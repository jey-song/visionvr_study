# 在 SwiftUI 中轻松完成高级动画

### 动画

* 简单的状态动画
* 重复动画（在视图可见时连续循环）
* 事件驱动动画（例如事件发生时脉冲的视图）

### 动画状态
* pre-planned state

#### 1. 举例：“.phaseAnimator”修饰符
* 阶段动画修改器提供了两个阶段：false 和 true
* 第一阶段处于活动状态，导致视图的透明度为 50%
* 下一阶段，其中视图完全不透明
* 动画在两种状态之间循环

#### 2. 颜色变化
```
* 默认情况下，SwiftUI 使用弹簧动画。spring animation
```
* 添加尾随“动画”闭包来更改动画。
	* 修改动画时长减缓处理时间

#### 3. 由事件触发的动画
* 定义动画的阶段
	* 枚举是定义动画步骤列表的好方法。
* 针对每个状态时动画的关键值做设置

```
阶段定义一次提供给您的视图一个的离散状态。

SwiftUI使用您已知的相同动画类型在这些状态之间进行动画处理，这对于可以建模为离散状态的动画非常有效。
```

### 关键Frame
* keyframeAnimator 修改器
* 关键帧是预定义的动画
* 
#### 1. 举例：“. keyframeAnimator”修饰符
* 四个参数调节
* 每个参数设置关键frame（时间点及该时间点数值）
* 选择使用不同的keyframe过度函数
* 关键帧动画无法像弹簧那样优雅地重新定位，因此通常最好避免在动画中更改关键帧。
* **由于动画根据您定义的值发生，因此每一帧都会发生更新，因此您应避免在将关键帧动画应用于视图时执行任何昂贵的操作。**

#### 2. keyframe
* LinearKeyframe：从前一个关键帧在向量空间中线性插值。
* SpringKeyframe：使用 弹簧 函数从前一个关键帧插值到目标值
* CubicKeyframe：使用三次贝塞尔曲线在关键帧之间进行插值。如果按顺序组合多个立方关键帧，则生成的曲线相当于 Catmull-Rom 样条线。
* MoveKeyframe：立即跳转到一个值而不进行插值


### Tips，技巧

* “mapCameraKeyframeAnimator”修改器
* 可以使用“KeyframeTimeline”类型来捕获一组关键帧和轨道。您可以使用初始值和定义动画的关键帧轨道来初始化此类型，就像使用视图修改器一样。

### 链接
https://developer.apple.com/videos/play/wwdc2023/10157/